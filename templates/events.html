{% extends "base.html" %}
{% block content %}
<h2>Events</h2>
<a href="/add_event" class="btn">+ Add Event</a>
<div class="table-container">
<table class="custom-table">
    <thead>
        <tr>
            <th>S.No</th>
            <th>Event Name</th>
            <th>Description</th>
            <th>Start Time</th>
            <th>End Time</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for e in events %}
        <tr>
            <td>{{ loop.index }}</td>
            <td>{{ e.title }}</td>
            <td>{{ e.description }}</td>
            <td>
                {{ e.start_time.strftime("%d/%m/%Y") }} <br>
                <span class="time-text">{{ e.start_time.strftime("%I:%M %p") }}</span>
            </td>
            <td>
                {{ e.end_time.strftime("%d/%m/%Y") }} <br>
                <span class="time-text">{{ e.end_time.strftime("%I:%M %p") }}</span>
            </td>
            <td>
                <a href="/edit_event/{{ e.id }}" class="btn">Edit</a>
                <a href="/delete_event/{{ e.id }}" class="btn btn-danger"
                   onclick="return confirm('Are you sure you want to delete this event?');">
                   Delete
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
</div>
{% endblock %}
